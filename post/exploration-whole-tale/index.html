<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Source Themes Academic 4.8.0"><meta name=author content="Matthew Turk"><meta name=description content="What is this Whole Tale thing?"><link rel=alternate hreflang=en-us href=https://matthewturk.github.io/post/exploration-whole-tale/><meta name=theme-color content="#EF525B"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css crossorigin=anonymous title=hl-light><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css crossorigin=anonymous title=hl-dark disabled><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css integrity="sha256-SHMGCYmST46SoyGgo4YR/9AlK1vf3ff84Aq9yK4hdqM=" crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin=anonymous async></script>
<link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap"><link rel=stylesheet href=/css/academic.css><script async src="https://www.googletagmanager.com/gtag/js?id=UA-141183895-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}function trackOutboundLink(e,t){gtag("event","click",{event_category:"outbound",event_label:e,transport_type:"beacon",event_callback:function(){t!=="_blank"&&(document.location=e)}}),console.debug("Outbound link clicked: "+e)}function onClickCallback(e){if(e.target.tagName!=="A"||e.target.host===window.location.host)return;trackOutboundLink(e.target,e.target.getAttribute("target"))}gtag("js",new Date),gtag("config","UA-141183895-1",{anonymize_ip:!0}),document.addEventListener("click",onClickCallback,!1)</script><link rel=manifest href=/index.webmanifest><link rel=icon type=image/png href=/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_192x192_fill_lanczos_center_3.png><link rel=canonical href=https://matthewturk.github.io/post/exploration-whole-tale/><meta property="twitter:card" content="summary_large_image"><meta property="twitter:site" content="@powersoffour"><meta property="twitter:creator" content="@powersoffour"><meta property="og:site_name" content="mjt"><meta property="og:url" content="https://matthewturk.github.io/post/exploration-whole-tale/"><meta property="og:title" content="Whole Tale: Exploration, Analysis and Reproducibility | mjt"><meta property="og:description" content="What is this Whole Tale thing?"><meta property="og:image" content="https://matthewturk.github.io/post/exploration-whole-tale/featured.png"><meta property="twitter:image" content="https://matthewturk.github.io/post/exploration-whole-tale/featured.png"><meta property="og:locale" content="en-us"><meta property="article:published_time" content="2019-06-28T10:32:44-05:00"><meta property="article:modified_time" content="2019-06-28T11:04:27-05:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://matthewturk.github.io/post/exploration-whole-tale/"},"headline":"Whole Tale: Exploration, Analysis and Reproducibility","image":["https://matthewturk.github.io/post/exploration-whole-tale/featured.png"],"datePublished":"2019-06-28T10:32:44-05:00","dateModified":"2019-06-28T11:04:27-05:00","author":{"@type":"Person","name":"Matthew Turk"},"publisher":{"@type":"Organization","name":"mjt","logo":{"@type":"ImageObject","url":"https://matthewturk.github.io/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_192x192_fill_lanczos_center_3.png"}},"description":"What is this Whole Tale thing?"}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.1/cookieconsent.min.js integrity="sha256-5VhCqFam2Cn+yjw61zbBNrbHVJ6SRydPeKopYlngbiQ=" crossorigin=anonymous></script>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.1/cookieconsent.min.css integrity="sha256-zQ0LblD/Af8vOppw18+2anxsuaz3pWYyVWi+bTvTH8Q=" crossorigin=anonymous><script>window.addEventListener("load",function(){window.cookieconsent.initialise({palette:{popup:{background:"#EF525B",text:"#EAE7D6"},button:{background:"#EAE7D6",text:"#EF525B"}},theme:"classic",content:{message:"This website uses cookies to ensure you get the best experience on our website.",dismiss:"Got it!",link:"Learn more",href:"https://www.cookiesandyou.com"}})})</script><title>Whole Tale: Exploration, Analysis and Reproducibility | mjt</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents><aside class=search-results id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=#><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>mjt</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>mjt</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/#about><span>Home</span></a></li><li class=nav-item><a class=nav-link href=/#posts><span>Posts</span></a></li><li class=nav-item><a class=nav-link href=/#projects><span>Projects</span></a></li><li class=nav-item><a class=nav-link href=/#courses><span>Courses</span></a></li><li class=nav-item><a class=nav-link href=/#talks><span>Talks</span></a></li><li class=nav-item><a class=nav-link href=/#publications><span>Publications</span></a></li><li class=nav-item><a class=nav-link href=/#contact><span>Contact</span></a></li><li class=nav-item><a class=nav-link href=https://data-exp-lab.github.io/ target=_blank rel=noopener><span>Research Group</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=Search><i class="fas fa-search" aria-hidden=true></i></a></li></ul></div></nav><article class=article><div class="article-container pt-3"><h1>Whole Tale: Exploration, Analysis and Reproducibility</h1><div class=article-metadata><span class=article-date>Last updated on
Jun 28, 2019</span></div><div class="btn-links mb-3"><a class="btn btn-outline-primary my-1 mr-1" href=/project/whole-tale/>Project</a></div></div><div class="article-header article-container featured-image-wrapper mt-4 mb-4" style=max-width:720px;max-height:720px><div style=position:relative><img src=/post/exploration-whole-tale/featured_hua9043d522084549cd08e04078fabf75c_76571_720x0_resize_lanczos_3.png alt class=featured-image></div></div><div class=article-container><div class=article-style><iframe width=560 height=315 src=https://www.youtube.com/embed/5PNv7FCUIhU frameborder=0 allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><h2 id=tldr>tl;dr</h2><p>The
<a href=https://wholetale.org/ target=_blank rel=noopener>Whole Tale</a> leverages neat stuff like Jupyter,
<a href=https://github.com/jupyter/repo2docker/ target=_blank rel=noopener>repo2docker</a> and RStudio, building out a research environment that gives you access to any data, anywhere &ndash; and when you stop you can pick right up where you left off, with your data, your research, and even any customizations or preferences you&rsquo;ve set.</p><p>You can even try out the new &ldquo;give me a dataset URL&rdquo; page that I made that isn&rsquo;t <em>quite</em> amazing but is still fun. (It&rsquo;s over
<a href=https://matthewturk.github.io/launch-wt/ target=_blank rel=noopener>here</a> for now but hopefully will move some day.)</p><h2 id=whole-tale-v07>Whole Tale v0.7</h2><p>Last week at
<a href=https://ncsa.illinois.edu/ target=_blank rel=noopener>NCSA</a> we had our twice-annual &ldquo;all-hands&rdquo; meeting for the
<a href=https://wholetale.org/ target=_blank rel=noopener>Whole Tale</a> project, which we&rsquo;ve been working on for a few years. It&rsquo;s a collaboration between University of Illinois, University of Chicago, University of Texas at Austin, Notre Dame, and UC Santa Barbara.</p><p>And this week we finally, <em>finally</em>, <strong>finally</strong> decided: we&rsquo;ve been way too cautious in asking people to use the system, and because of that, we haven&rsquo;t really talked about some of the really awesome stuff that&rsquo;s been developed for it. Everything is developed fully in the open on our
<a href=https://github.com/whole-tale/ target=_blank rel=noopener>whole-tale org</a> and wherever we can, we push changes upstream and coordinate with other projects.</p><p>So, here we go: what is in the hot-off-the-presses Whole Tale v0.7? (We have a
<a href="https://www.youtube.com/watch?v=5PNv7FCUIhU" target=_blank rel=noopener>release video</a>, too!
<a href="https://www.youtube.com/watch?v=P1WDm_H1234" target=_blank rel=noopener>Also, a much longer one from our previous release</a>, if that interests you.)</p><p>But first, you might be asking, what is the Whole Tale project, anyway? (Of course there is a
<a href=https://www.sciencedirect.com/science/article/pii/S0167739X17310695 target=_blank rel=noopener>paper out there</a>, but it&rsquo;s a lot longer than this blog post.)</p><h2 id=whole-tale-really>&ldquo;Whole Tale,&rdquo; really?</h2><p>It&rsquo;s a pun! See, it&rsquo;s supposed to both tell the &ldquo;whole story&rdquo; and it&rsquo;s supposed to work for researchers at both ends of the distribution of data sizes &ndash; both the &ldquo;long tail&rdquo; and the other bit.</p><p>The Whole Tale (hereafter just &lsquo;WT&rsquo;) is designed to be a way to &ndash; first and foremost &ndash; do your research, at any stage in the research lifecycle. That means it should work for exploring data, for refining your processing of data, and all the way up to the point where you want to package it up and publish it. And then, when someone wants to re-explore your work in a different way, or to apply your work to a different dataset, they can do so within this same environment.</p><p>I must confess, writing it like this sounds a bit underwhelming! But there are a couple big hangups with that &ndash; for starters, everybody has a different environment they like using. And, folks usually want to apply their work to some kind of <em>data</em>, which might live somewhere else and might even be lots of bits from lots of places. The final thing that is usually really tricky is that folks usually want to be able to have some stuff that hangs around in between sessions, or in between different research projects.</p><p>WT tries pretty hard to solve these different problems to make a really nice place to work on (and ultimately, publish!) research. And by &ldquo;solve,&rdquo; the idea isn&rsquo;t to <em>just</em> build stuff from scratch, but to find things that exist, glue them together, and make the experience as near-seamless as possible.</p><p>For these examples, let&rsquo;s imagine that our researcher is &mldr; me, I guess. And let&rsquo;s say that I want to analyze some data from Illinois, where I live. Usually I analyze data in Jupyter, so let&rsquo;s start with that.</p><h2 id=data-in-there>Data in there</h2><p>The first pain point that WT aims to address is that of <em>data</em>. Many research workflows &ndash; from the very start all the way up to the very end &ndash; require having access to datasets. Sometimes those datasets are created by the individual researcher, but in many cases, they aren&rsquo;t. And so starting a research project often means answering (even just implicitly!) a bunch of questions about that data.</p><p>Where is the data?</p><p>How do I get the data into my working environment?</p><p>Can I grab a bunch of data from lots of other places?</p><p>WT handles data through the notion of &ldquo;registration.&rdquo; When a URL is ingested in the system, it stores some information about that data, and it figures out the best way to get at that data. In the default case, WT will access it via HTTP. It&rsquo;s particularly good at registering and accessing data through
<a href=https://dataverse.org/ target=_blank rel=noopener>Dataverse</a>,
<a href=https://dataone.org/ target=_blank rel=noopener>DataONE</a> and
<a href=https://globus.org target=_blank rel=noopener>Globus</a>.</p><p>Under the hood, WT uses a system called
<a href=https://girder.readthedocs.io/en/stable/ target=_blank rel=noopener>Girder</a> for storing metadata about registered items, where they are located (as a hinting system for where to launch workers), what the access controls are, and what &ldquo;collections&rdquo; they belong to.</p><p>Here&rsquo;s the part that I like about this the <em>most</em>: WT does not just slurp up the data and make a copy locally. Instead, it references the remote data and fetches subsets of it <em>on-demand</em>. And more to the point, it does this by creating a
<a href=https://github.com/whole-tale/girderfs target=_blank rel=noopener>virtual filesystem</a> that makes everything look like they&rsquo;re files there on disk.</p><p>So I&rsquo;ll use some open data from the State &ndash; I&rsquo;m curious about the distribution of rest areas in the state, so let&rsquo;s use
<a href=https://data.illinois.gov/dataset/rest_areas target=_blank rel=noopener>that data set</a>. I grabbed the URL for the CSV by right-clicking on &ldquo;Download&rdquo; and copying the URL. So now when I &ldquo;register&rdquo; this in Whole Tale, I&rsquo;ll see it as a CSV file right there in the filesystem.</p><p>(And I haven&rsquo;t had to download anything to my laptop yet.)</p><p>There are a handful of special things about this, and a few drawbacks. WT knows how to register data from DataVerse and DataONE, and it can access anything over HTTP as long as the server sends the size back in the HTTP headers. And you can access the file just like it really lived there.</p><h2 id=a-welcome-mat>A Welcome Mat</h2><p>When I open up my laptop, it&rsquo;s basically exactly where I left it the last time I closed it. I&rsquo;ve got tabs open in my browser, in-progress proposals in text editors, and all of my preferences are right there. When I open up
<a href=https://www.vim.org target=_blank rel=noopener>vim</a> it&rsquo;s got all my
<a href=https://vimawesome.com target=_blank rel=noopener>plugins</a> and keybindings still set up.</p><p>Whole Tale wants to feel as much like home as your laptop. So in between sessions, in between different setups, you get to keep a
<a href=https://github.com/whole-tale/wt_home_dirs target=_blank rel=noopener>home directory</a>. And when you collaborate with somebody else, the &ldquo;Tale&rdquo; you work on will have a shared workspace directory.</p><p>When you use an environment in WT, there&rsquo;ll be three directories that you will see: home, workspace and data. Home is <em>yours</em>, and it&rsquo;ll be there when you quit and come back. If you run this time in RStudio and stick stuff in home, it&rsquo;ll be there when you run again in Jupyterlab. In workspace, stuff that gets saved shows up the next time somebody runs that Tale &ndash; it isn&rsquo;t quite involatile data, but it&rsquo;s also not really <em>personal</em> data. So this is where you might put intermediate results, or helpful scripts.</p><p>Everything under data, of course, is data that exists &mldr; elsewhere. It&rsquo;s all read only, but you can dynamically add new things to the running Tale &ndash; not just things that you&rsquo;ve registered, but things that show up in the WT catalog.</p><p>One of my favorite parts of WT, though, is the way that the &ldquo;home&rdquo; directory is made available. Not only can you access it through the WT user interface, but you can even mount it as a directory on your laptop or desktop &ndash; it is exposed as a WebDAV filesystem! OSX, Windows and Linux all have native support for this. So if you&rsquo;re working on getting some little scripts or maybe some supplemental data in, you can just drag it over to the WT folder on your desktop.</p><p>So you&rsquo;ve got data, maybe from lots of places, you&rsquo;ve got an environment, and every time you log in it feels like &ldquo;home&rdquo; &ndash; now let&rsquo;s imagine you&rsquo;ve done some work and you decide, eventually, that you are <em>done</em>. Your work is ready to be published!</p><h2 id=collaborating-and-remixing>Collaborating and Remixing</h2><p>This part is the most fun &ndash; within a given Tale, we&rsquo;ve got the ability to share files across <em>instances</em> of that Tale (through the &ldquo;workspace&rdquo; folder) and you can also grab somebody else&rsquo;s published tale and mess about with it &ndash; changing the environment, doing different things, and so on and so on.</p><h2 id=try-it-out>Try it out!</h2><p>Give it a shot! There are still some rough edges, but it should <em>mostly</em> work &ndash; and I&rsquo;ve personally been using it already to collaborate with students on projects and papers.</p><p>You can find out more about the project at
<a href=https://wholetale.org/ target=_blank rel=noopener>the Whole Tale Website</a> and all of the source is in the
<a href=https://github.com/whole-tale/ target=_blank rel=noopener>whole-tale GitHub org</a>. And if you want to try it out on your own resources, all of our development and deployment scripts are in our
<a href=https://github.com/whole-tale/deploy-dev target=_blank rel=noopener>deploy-dev</a> repository.</p><p>Plus, we&rsquo;d love to work with you to add integrations for new data stores, hear about cool ideas you might have, and if you do something fun with it, we <em>definitely</em> want to hear about that!</p></div><div class="media author-card content-widget-hr"><img class="avatar mr-3 avatar-circle" src="https://s.gravatar.com/avatar/b279d746f54e2cd6062e8279a767c4bc?s=200')" alt="Matthew Turk"><div class=media-body><h5 class=card-title><a href=https://matthewturk.github.io/>Matthew Turk</a></h5><h6 class=card-subtitle>Assistant Professor of Information Sciences</h6><p class=card-text>I am interested in the intersection of data analysis, visualization and open source in the sciences.</p><ul class=network-icon aria-hidden=true><li><a href=mailto:matthewturk@gmail.com><i class="fas fa-envelope"></i></a></li><li><a href=https://twitter.com/powersoffour target=_blank rel=noopener><i class="fab fa-twitter"></i></a></li><li><a href="https://scholar.google.com/citations?user=QTmv2p0AAAAJ&amp;hl=en" target=_blank rel=noopener><i class="ai ai-google-scholar"></i></a></li><li><a href=https://github.com/matthewturk target=_blank rel=noopener><i class="fab fa-github"></i></a></li></ul></div></div></div></article><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/python.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.js integrity="sha256-EErZamuLefUnbMBQbsEqu1USa+btR2oIlCpBJbyD4/g=" crossorigin=anonymous></script>
<script>const code_highlighting=!0</script><script>const isSiteThemeDark=!1</script><script>const search_config={indexURI:"/index.json",minLength:1,threshold:.3},i18n={no_results:"No results found",placeholder:"Search...",results:"results found"},content_type={post:"Posts",project:"Projects",publication:"Publications",talk:"Talks",slides:"Slides"}</script><script id=search-hit-fuse-template type=text/x-template>
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script><script src=https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin=anonymous></script>
<script src=/js/academic.min.cd45a9c0bbdd3dfb1c126917c601c9f2.js></script><div class=container><footer class=site-footer><p class=powered-by></p><p class=powered-by>Powered by the
<a href=https://sourcethemes.com/academic/ target=_blank rel=noopener>Academic theme</a> for
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a>.
<span class=float-right aria-hidden=true><a href=# class=back-to-top><span class=button_icon><i class="fas fa-chevron-up fa-2x"></i></span></a></span></p></footer></div><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code class="tex hljs"></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i> Copy</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i> Download</a><div id=modal-error></div></div></div></div></div></body></html>